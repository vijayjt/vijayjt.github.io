<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Aks on Vijay Thakorlal's Blog</title><link>https://vijayjt.github.io/tags/aks/</link><description>Recent content in Aks on Vijay Thakorlal's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Fri, 05 Jan 2024 10:51:41 +0000</lastBuildDate><atom:link href="https://vijayjt.github.io/tags/aks/index.xml" rel="self" type="application/rss+xml"/><item><title>Authenticate with GKE and AKS clusters interactively with fzf</title><link>https://vijayjt.github.io/posts/gke-login-fzf/</link><pubDate>Fri, 05 Jan 2024 10:51:41 +0000</pubDate><guid>https://vijayjt.github.io/posts/gke-login-fzf/</guid><description>fzf is a command-line fuzzy finder, as the project site states it is an interactive UNIX filter for command-line that can be used with any list, files, etc.
Following on from our other posts on using fzf, here is an example of a function that can be used to to authenticate/login to a GKE cluster interactively:
function gcp_gke_login(){ PROJECT=$(gcloud projects list --format=&amp;#34;value(projectId)&amp;#34; | fzf --tac) RESULT=$(gcloud container clusters list --project=$PROJECT --format=&amp;#34;value(name,location)&amp;#34; | fzf --tac) CLUSTER_NAME=$(echo &amp;#34;$RESULT&amp;#34; | awk &amp;#39;{print $1}&amp;#39;) REGION=$(echo &amp;#34;$RESULT&amp;#34; | awk &amp;#39;{print $2}&amp;#39;) KUBECONFIG_CLUSTER=gke_&amp;#34;$PROJECT&amp;#34;_&amp;#34;$REGION&amp;#34;_&amp;#34;$CLUSTER_NAME&amp;#34; echo &amp;#34;Manipulating kubeconfig entry using cluster: $KUBECONFIG_CLUSTER&amp;#34; gcloud config set component_manager/disable_update_check true gcloud container clusters get-credentials --project=&amp;#34;${PROJECT}&amp;#34; --region=&amp;#34;${REGION}&amp;#34; &amp;#34;${CLUSTER_NAME}&amp;#34; } We can use fzf with the Azure CLI in a similar fashion to login to an AKS cluster:</description></item></channel></rss>